<div class="animated fadeIn">
  <h3>Customer Management.</h3>
  <div class="row">
    <div class="col-9">
      <div class="datatable-container">
        <div class="progress-bar progress-bar-striped progress-bar-animated prog-bar" [hidden]="!isLoading"></div>
        <ngx-datatable class="bootstrap"
                       [rows]="rows"
                       [columnMode]="'flex'"
                       [headerHeight]="40"
                       [summaryRow]="false"
                       [footerHeight]="40"
                       [rowHeight]="'auto'"
                       [reorderable]="true"
                       [externalPaging]="true"
                       [count]="page.totalElements"
                       [offset]="page.pageNumber"
                       [limit]="page.size"
                       [externalSorting]="true"
                       (page)="setPage($event)"
                       (sort)="onSort($event)">
          <ngx-datatable-column name="Name" prop="name" [flexGrow]="3">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <div>{{ row.name }}</div>
              <div class="small">{{ row.address + ',' + row.cityName + ',' + row.provinceName }}</div>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Email" prop="email" [flexGrow]="2">
            <ng-template let-value="value" ngx-datatable-cell-template>
              {{ value }}
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Contact #" prop="contactNumber" [flexGrow]="2">
            <ng-template let-value="value" ngx-datatable-cell-template>
              {{ value }}
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Contact Person" prop="contactPerson" [flexGrow]="2">
            <ng-template let-value="value" ngx-datatable-cell-template>
              {{ value }}
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Price List" prop="priceList" [flexGrow]="2">
            <ng-template let-value="value" ngx-datatable-cell-template>
              {{ value }}
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="" [flexGrow]="2">
            <ng-template ngx-datatable-cell-template let-row="row">
              <button class="btn btn-sm btn-info btn-square" (click)="addCustomer(row.id)" title="Edit this category.">
                <i class="fa fa-pencil"></i>
              </button>&nbsp;
              <button class="btn btn-sm btn-danger btn-square" (click)="onDeleteCustomer(row.id)" title="Delete this category.">
                <i class="fa fa-trash-o"></i>
              </button>
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
      </div>
    </div>
    <div class="col-3">
      <div class="card no-radius">
        <div class="card-header">
          <i class="fa fa-search"></i> Search Customers.
        </div>
        <div class="card-body">
          <div class="form-group">
            <label>Keywords.</label>
            <input class="form-control" #searchBox />
          </div>
          <div class="form-group">
            <label>Province.</label>
            <select class="form-control"></select>
          </div>
          <div class="form-group">
            <label>City.</label>
            <select class="form-control"></select>
          </div>
          <button type="button" class="btn btn-sm btn-primary" (click)="search()">
            <i class="fa fa-search"></i> Search
          </button>
        </div>
      </div>
      <button type="button" class="btn btn-block btn-primary" (click)="addCustomer(0)">
        <i class="fa fa-plus"></i> New Customer
      </button>
    </div>
  </div>
</div>
